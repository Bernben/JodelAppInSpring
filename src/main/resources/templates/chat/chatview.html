<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head"></head>
<body>
<header th:replace="fragments/menu :: header"></header>
<div class="container">
    <div class="row rounded-lg overflow-hidden shadow" style="width:100%;">
        <!-- Chat Box-->
        <div class="px-0" style="width:100%;height: 460px; ">
            <div class="px-4 py-5 chat-box bg-white">

                <a th:href="@{'/chat'}">
                    <button id="button-return" type="button" class="btn btn-link"
                            style="margin-top:-25px; position: fixed;"><i class="fas fa-arrow-circle-left"></i></button>
                </a>
                <h2 th:text="${too}"></h2>

                <div class="contentholdertesteach" th:each="listchat : ${listChats}" th:switch="${listchat.from}">
                    <div class="media ml-auto mb-3 w-50" th:case="${username}">
                        <div class="media-body">
                            <div class="bg-light rounded py-2 px-3 mb-2">
                                <p class="text-small mb-0 text-muted" th:text="${listchat.message}">Test which is a new
                                    approach to have all solutions</p>
                            </div>
                            <p class="small text-muted float-right text-right"
                               th:text="${listchat.timestamp}">12:00 PM | Aug 13</p>
                        </div>
                    </div>

                    <div class="media mb-3 w-50" th:case="${too}">
                        <div class="media-body">
                            <div class="bg-primary rounded py-2 px-3 mb-2">
                                <p class="text-small mb-0 text-white text-right" th:text="${listchat.message}">Test
                                    which is
                                    a new approach to have all solutions</p>
                            </div>

                        </div>
                    </div>
                </div>

            </div>
            <!-- Typing area -->
            <form action="#" th:action="@{/saveChat}" th:object="${chatadd}" class="bg-light" method="post" style="
                          z-index: 1000;
    position: fixed;
    width: 450px;
    margin-left: 30px;
    margin-top: -100px;
">
                <div class="input-group">
                    <input type="text" placeholder="Type a message" th:field="*{message}"
                           aria-describedby="button-addon2" class="form-control rounded-0 border-0 py-4 bg-light">
                    <input type="hidden" class="form-control" th:value="${too}" th:name="to" placeholder="from">
                    <div class="input-group-append">
                        <button id="button-addon2" type="submit" class="btn btn-link"><i
                                class="fa fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

</div>


</body>
</html>
